---
layout: default
---
<script>
  function registerUpdateHandler(basename) {
    if (document.getElementById(basename)) {
      document.getElementById(basename).value = localStorage.getItem(basename);
      var update = function () {
        localStorage.setItem(basename, document.getElementById(basename).value);
        window.location.reload();
      };
      document.getElementById(basename).onkeyup = function (e) { if (e.key == 'Enter') update(); }
      document.getElementById(basename + '-apply').onclick = update;
    }
  }

  function initializeVariables() {
    var projectId = localStorage.getItem('gcloud-project-id') ? localStorage.getItem('gcloud-project-id') : 'no-project-id-configured';
    var shellHostname = localStorage.getItem('gcloud-shell-hostname') ? localStorage.getItem('gcloud-shell-hostname') : 'no-hostname-configured';
    document.body.innerHTML = document.body.innerHTML.replace(new RegExp('\\$GCLOUD_PROJECT_ID', 'g'), projectId);
    document.body.innerHTML = document.body.innerHTML.replace(new RegExp('\\$GCLOUD_SHELL_HOSTNAME', 'g'), shellHostname);

    registerUpdateHandler('gcloud-project-id');
    registerUpdateHandler('gcloud-shell-hostname');
  }

  window.onload = initializeVariables;
</script>
{{content}}